{% extends 'base.html' %}
{% load static %}

{% block title %}Error de Inscripción - El Sistema Guayana{% endblock %}
{% block current_page %}Error de Inscripción{% endblock %}

{% block extra_head %}
    {{ block.super }}
    <style>
        .error-message {
            color: #dc2626; /* Red-600 */
            font-weight: 600;
        }
        .error-details {
            background-color: #fef2f2; /* Red-50 */
            border-left: 4px solid #ef4444; /* Red-500 */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.25rem;
            font-family: monospace;
            white-space: pre-wrap; /* Permite saltos de línea y espacios */
            word-wrap: break-word; /* Rompe palabras largas */
            color: #991b1b; /* Red-800 */
        }
    </style>
{% endblock %}

{% block content %}
    <div class="max-w-xl mx-auto bg-white/50 shadow-lg rounded-lg p-8 mt-4 text-center">
        <svg class="mx-auto h-12 w-12 text-red-500" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.174 3.353 1.94 3.353h13.71c1.766 0 2.806-1.853 1.94-3.353L13.94 2.803c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
        </svg>
        <h2 class="mt-2 text-2xl font-bold tracking-tight text-gray-900">
            ¡Uups! Algo salió mal 😔
        </h2>
        <p class="mt-4 text-base text-gray-700">
            No pudimos completar la inscripción del estudiante. Esto se debe a un error interno.
            Por favor, inténtalo de nuevo o contacta al soporte técnico si el problema persiste.
        </p>

        {% if error %}
            <div class="mt-6">
                <p class="error-message">Detalles del error:</p>
                <pre class="error-details">{{ error }}</pre>
                {# Puedes mostrar 'data' si contiene información adicional útil, aunque a menudo será lo mismo que 'error' #}
                {# <pre class="error-details">Datos: {{ data }}</pre> #}
            </div>
        {% endif %}

        <div class="mt-10 flex justify-center">
            <a href="{% url 'students:list' %}" class="action-button">
                <span class="action-button-span"> Volver a la página principal </span>
            </a>
        </div>
    </div>
{% endblock %}